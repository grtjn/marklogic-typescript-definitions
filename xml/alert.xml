<apidoc:module name="AlertModule" category="Alerting" lib="alert" bucket="XQuery Library Modules" 
xmlns:apidoc="http://marklogic.com/xdmp/apidoc" xmlns="http://www.w3.org/1999/xhtml">
	<apidoc:summary>
		<p>The Alerting API function module is used to create alerting 
			applications.  The Alerting API abstracts the security 
			considerations and the reverse search functionality
			from the developer.  The Alerting API is installed as 
			the following file:</p>
	<ul>
      <li><code><em>install_dir</em>/Modules/MarkLogic/alert.xqy</code></li>
      </ul>
      <p>where <code><em>install_dir</em></code> is the directory in which 
	      MarkLogic Server is installed.</p>
  <span class="xquery">
      <p> To use the alert.xqy module in your own XQuery modules, include the 
	      following line in your XQuery prolog:</p>
      <p><code>import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";</code></p>
      <p>The library uses the <code>alert:</code> namespace, which is 
	      <code>not</code> predefined in the server.</p>
  </span>
  <span class="javascript">
      <p>To use the <code>alert</code> module in your own Server-Side JavaScript 
         modules, include the following line in your JavaScript program:</p>
      <p><code>var alert = require("/MarkLogic/alert"); </code></p>
  </span>
      <p>The Alerting API requires a valid alerting license key.  Without a 
	      valid license key, the functions in the Alerting API will throw an 
	      exception.  Additionally, a valid alerting license key is
	     required to use the reverse index. 
      </p>
   </apidoc:summary>

  <apidoc:function name="make-config" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Create an alerting configuration associated with a 
		  particular URI. The URI will be used to create a protected
		  collection when the config is inserted into the database with
		  <code class="xquery">alert:config-insert</code>
                  <code class="javascript">alert.configInsert</code>. This URI will also be 
		  used as a directory for all documents (config, actions, 
		  and rules) associated with the config.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="uri" type="xs:string">The URI for this alerting 
		    config.</apidoc:param>
	    <apidoc:param name="name" type="xs:string">The name for this 
		    alerting configuration.</apidoc:param>
	    <apidoc:param name="description" type="xs:string">A description for 
		    this alerting configuration.</apidoc:param>
	    <apidoc:param name="options" type="element(alert:options)" class="xquery">
		    Additional options available to an alerting application 
		    for extra state.</apidoc:param>
	    <apidoc:param name="options" type="Object" class="javascript">
		    Additional options available to an alerting application 
		    for extra state.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:privilege>The <code>alert-admin</code> role is required to run
	    this function (or all of the privileges in the 
	    <code>alert-admin</code> role).
    </apidoc:privilege>
    <apidoc:usage>
	    If you add the 
	    <code class="xquery">&lt;alert:unfiltered&gt;true&lt;/alert:unfiltered&gt;</code>
            <code class="javascript">"unfiltered":"true"</code>
	    option to the <code>$options</code> parameter, it will cause all
	    <code class="xquery">cts:search</code> <code class="javascript">cts.search</code>
            operations that use this config to 
	    run unfiltered.  This applies to the functions in the 
	    Alerting API that use <code class="xquery">cts:search</code>
            <code class="javascript">cts.search</code> (for example, 
	    <code class="xquery">alert:find-matching rules</code>
            <code class="javascript">alert.findMatchingRules</code>). The default is for them
	    to run filtered.  Unfiltered searches skip the filtering stage of
	    query processing, relying on the index resolution for 
	    the accuracy of the results. The unfiltered option can give a 
	    performance boost to configurations
	    whose index settings do not require results to be filtered.
    </apidoc:usage>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:make-config(
	 "http://acme.com/alert/message-board",
        "Message Board",
        "Alerting config for messages on the message board",
        <alert:options/>
    )
    ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.makeConfig(
	 "http://acme.com/alert/message-board",
         "Message Board",
         "Alerting config for messages on the message board",
         {"unfiltered":"true"})
    ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-insert" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>Inserts a config into the database. If this is the first time the config has been inserted, a protected collection will be created for the config's URI. A user must have the alert-admin privilege to call this function.</apidoc:summary>
    <apidoc:params>
      <apidoc:param name="config" type="element(alert:config)" class="xquery">
         the config to insert
      </apidoc:param>
      <apidoc:param name="config" type="Object" class="javascript">
         the config to insert
      </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $config := alert:make-config(...)
  return alert:config-insert($config)
</pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  alert.configInsert(
     alert.makeConfig(
	 "http://acme.com/alert/message-board",
         "Message Board",
         "Alerting config for messages on the message board",
         {"unfiltered":"true"}))
</pre></apidoc:example>


  </apidoc:function>
  <apidoc:function name="config-get" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>Gets the config associated with the specified URI. The user must have the alert-user privilege to call this function.</apidoc:summary>
    <apidoc:params>
      <apidoc:param name="uri" type="xs:string">
        The URI of the alerting configuration.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)?</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get("http://acme.com/alert/message-board")
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGet("http://acme.com/alert/message-board")
  ]]></pre></apidoc:example>

  </apidoc:function>
  <apidoc:function name="config-delete" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Remove an alerting configuration identified by the 
		  specified URI. If the config does not exist, an exception 
		  will be thrown. Any triggers associated with the alerting 
		  configuration will be automatically removed. Any actions 
		  and/or rules associated by the config will also be removed 
		  as well as the protected collection. The caller must have 
		  the alert-admin privilege to call this function.
	  </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="uri" type="xs:string">
           The URI of the alerting configuration.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-delete("http://acme.com/alert/message-board")
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  alert.configDelete("http://acme.com/alert/message-board")
  </pre></apidoc:example>
  </apidoc:function>

    <apidoc:function name="config-get-id" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	    <apidoc:summary>
                This function returns the ID of the specified alerting configuration.
	    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:unsignedLong</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-id($config)

  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetId(alert.configGet("http://acme.com/alert/message-board"))
  </pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="config-set-uri" lib="alert" category="Alerting" 
	  bucket="XQuery Library Modules" hidden="true">
    <apidoc:summary>
         This function sets the URI in the specified alerting configuration.
    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
      <apidoc:param name="uri" type="xs:string">The URI of the specified configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-uri($config, "http://acme.com/alert/message-board")
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetUri(alert.configGet("http://acme.com/alert/message-board"), "foo")
  </pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="config-get-uri" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>
       This function returns the URI set in the specified alerting configuration.
    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-uri($config)

  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetUri(alert.configGet("http://acme.com/alert/message-board"))

  </pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="config-get-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>
       This function returns the name set in the specified an alerting configuration.
    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-name($config)

  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetName(alert.configGet("http://acme.com/alert/message-board"))
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-set-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>
       This function sets the name in the specified alerting configuration.
    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
      <apidoc:param name="name" type="xs:string">The name of the specified configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-name($config, "message-board")
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetName(
        alert.configGet("http://acme.com/alert/message-board"), 
        "message-board")
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-get-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function provides returns the description 
		  set in the specified alerting configuration.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-description($config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetDescription(alert.configGet("http://acme.com/alert/message-board"))
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-set-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function sets the description
             within the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
      <apidoc:param name="description" type="xs:string">The 
	      description of the specified configuration.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return  class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return  class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-description($config, "The message board configuration")
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetDescription(
        alert.configGet("http://acme.com/alert/message-board"),  
        "The message board configuration")
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-get-trigger-ids" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function returns the 
      trigger IDs set in the specified alerting configuration.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">xs:unsignedLong*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>    
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $trigger-ids := alert:config-get-trigger-ids($config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetTriggerIds(alert.configGet("http://acme.com/alert/message-board"))
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-set-trigger-ids" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>
             This function sets the trigger IDs in the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
      <apidoc:param name="ids" type="xs:unsignedLong*">The trigger IDs 
	      of the specified configuration.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $ids := (xs:unsignedLong(123456789), xs:unsignedLong(987654321))
  return alert:config-set-trigger-ids($config, $ids)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetTriggerIds(
         alert.configGet("http://acme.com/alert/message-board"),
         ["123456789", "987654321"])     
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-get-cpf-domain-ids" lib="alert" category="Alerting" bucket="XQuery Library Modules" hidden="true">
	  <apidoc:summary>This function returns the
              CPF domain IDs set in the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:unsignedLong*</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-cpf-domain-ids($config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  
  </pre></apidoc:example>
  </apidoc:function>


  <apidoc:function name="config-get-cpf-domain-names" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the CPF domain names
                set in the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">xs:string*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>    
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-cpf-domain-names($config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetCpfDomainNames(alert.configGet("http://acme.com/alert/message-board"))
  </pre></apidoc:example>
  </apidoc:function>



  <apidoc:function name="config-set-cpf-domain-names" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function sets the CPF domain names
                  in the specified alerting configuration.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="names" type="xs:string*">The
		    name(s) of the domains to use with this alerting configuration. 
		    The names must be valid domain names for the 
		    database in which the alerting config references. 
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-cpf-domain-names($config, $domain-names)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetCpfDomainNames(
             alert.configGet("http://acme.com/alert/message-board"), 
             ["Default Documents"])
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-set-cpf-domain-ids" lib="alert" category="Alerting" bucket="XQuery Library Modules" hidden="true">
	  <apidoc:summary>
             This function sets the CPF domain IDs in the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
      <apidoc:param name="ids" type="xs:unsignedLong*">The CPF domain 
	      IDs of the specified configuration.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-cpf-domain-ids($config, $domain-ids)
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-get-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>
              This function returns the options set in specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:options)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-get-options($config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.configGetOptions(alert.configGet("http://acme.com/alert/message-board")) 
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="config-set-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>
             This function sets the options in the specified alerting configuration.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config" type="element(alert:config)" class="xquery">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="config" type="Object" class="javascript">The 
		    specified alerting configuration.</apidoc:param>
	    <apidoc:param name="options" type="element(alert:options)"  class="xquery">The 
		    options of the specified configuration.
	    </apidoc:param>
	    <apidoc:param name="options" type="Object"  class="javascript">The 
		    options of the specified configuration.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return  class="xquery">element(alert:config)</apidoc:return>
    <apidoc:return  class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:config-set-options($config, <alert:options />)
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.configSetOptions(
           alert.configGet("http://acme.com/alert/message-board"),
           {"unfiltered":"true"}) 
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="create-triggers" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Create triggers that invoke the standard alerting 
		  trigger module. The caller must have the 
		  <code>alert-admin</code> privilege. The returned 
		  trigger IDs must be associated with the config using 
		  <code class="xquery">alert:config-set-trigger-ids</code>
                  <code class="javascript">alert.configSetTriggerIds</code> and then 
		  saving the updated config with 
		  <code class="xquery">alert:config-insert</code>
                  <code class="javascript">alert.configInsert</code>.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="uri" type="xs:string">The URI specified 
		    to <code class="xquery">alert:make-config</code>
                    <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="events" type="element(trgr:data-event)*">
                Events for which to create triggers.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">xs:unsignedLong*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>   
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
       at "/MarkLogic/alert.xqy";
  import module namespace trgr="http://marklogic.com/xdmp/triggers"
       at "/MarkLogic/triggers.xqy";

  let $uri := "http://acme.com/alert/message-board"
  let $trigger-ids :=
    alert:create-triggers (
        $uri,
        trgr:trigger-data-event(
            trgr:directory-scope("/", "infinity"),
            trgr:document-content(("create", "modify")),
            trgr:pre-commit()))
  let $config := alert:config-get($uri)
  let $new-config := alert:config-set-trigger-ids($config, $trigger-ids)
  return alert:config-insert($new-config)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");
  var trgr = require("/MarkLogic/triggers.xqy");

  declareUpdate();
  alert.configInsert(
      alert.configSetTriggerIds(
          alert.configGet("http://acme.com/alert/message-board"),
          alert.createTriggers(
             "http://acme.com/alert/message-board", 
              trgr.triggerDataEvent(
                   trgr.directoryScope("/myDir/", "1"),
                   trgr.documentContent("create"),
                   trgr.postCommit()))))
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="remove-triggers" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Remove triggers whose IDs are listed in the config. 
		  The caller must have the alert-admin privilege. This function
		  writes the updated configuration to the database, so if you 
		  need to delete the configuration as well (using 
		  <code class="xquery">admin:delete-config</code>
                  <code class="javascript">alert.configDelete</code>, for example), you should
		  do so in another transaction. 
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="uri" type="xs:string">The URI 
		    specified to <code class="xquery">alert:make-config</code>
                    <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:remove-triggers("http://acme.com/alert/message-board")
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  alert.removeTriggers("http://acme.com/alert/message-board")
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="find-matching-rules" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Returns a list of all rules associated with 
		  the specified config that match the specified document. 
		  You must have the <code>alert-admin</code> privilege 
		  to call this function.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The alerting 
		    configuration from which to match rules.
	    </apidoc:param>
	    <apidoc:param name="doc" type="node()">The document 
		    to match against.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";


  alert:find-matching-rules("http://myconfig/uri/", 
           fn:doc("/mydocs/doc.xml"))
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");
 
  alert.findMatchingRules("http://acme.com/alert/message-board",
                          fn.doc("/xml/foo.xml"))
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="invoke-matching-actions" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Finds the rules that match the specified document 
		  and invokes their associated actions. The actions will 
		  be invoked as the user who owns each rule in a different
		  transaction.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The alerting 
		    configuration from which to match rules.
	    </apidoc:param>
	    <apidoc:param name="doc" type="node()">The document 
		    to match against.
	    </apidoc:param>
	    <apidoc:param name="options" type="node()" class="xquery">The options node
		    to pass to <code>xdmp:invoke</code> when invoking 
		    each action. The options node should be in the 
		    <code>xdmp:eval</code> namespace.
	    </apidoc:param>
	    <apidoc:param name="options" type="Object" class="javascript">The options
		    to pass to <code>xdmp.invoke</code> when invoking 
		    each action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:invoke-matching-actions("http://myconfig/uri/", 
           fn:doc("/mydocs/doc.xml"), <options/>)
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");
 
  alert.invokeMatchingActions("http://acme.com/alert/message-board",
                              fn.doc("/xml/foo.xml"), {})

  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="spawn-matching-actions" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Finds the rules that match the specified 
		  document and spawns their associated actions. The spawned 
		  tasks will run as the user that owns the rule.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The alerting 
		    configuration from which to match rules.
	    </apidoc:param>
	    <apidoc:param name="doc" type="node()">The document to 
		    match against.
	    </apidoc:param>
	    <apidoc:param name="options" type="node()" class="xquery">The options node 
		    to pass to <code>xdmp:spawn</code> when spawning each 
		    action. The options node should be in the 
		    <code>xdmp:eval</code> namespace.
	    </apidoc:param>
	    <apidoc:param name="options" type="Options" class="javascript">The options 
		    to pass to <code>alert.spawn</code> when spawning each 
		    action.  
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";


  alert:spawn-matching-actions("http://myconfig/uri/", 
           fn:doc("/mydocs/doc.xml"), <options xmlns="xdmp:eval"/>)
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");
 
  alert.spawnMatchingActions("http://acme.com/alert/message-board",
                             fn.doc("/xml/foo.xml"), {"priority":"higher"})

  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="make-rule" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function creates the specified rule. 
		  If the caller does not have the <code>alert-admin</code>
		  privilege then <code>$user-id</code> must be the ID
		  of the current user from the security database.  
		  If <code>$user-id</code> is 0, it will be automatically 
		  replaced with the current user's ID.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="name" type="xs:string">The name given to 
		    the rule.</apidoc:param>
	    <apidoc:param name="description" type="xs:string">A text 
		    description of the rule.</apidoc:param>
	    <apidoc:param name="user-id" type="xs:unsignedLong">The user 
		    ID from the security database of the user who will 
		    be notified of matches.
	    </apidoc:param>
	    <apidoc:param name="query" type="cts:query">The query that 
		    the rule will be matched against for alerting.
	    </apidoc:param>
	    <apidoc:param name="action" type="xs:string">The name of the 
		    action to occur upon the matching of the rule.
	    </apidoc:param>
	    <apidoc:param name="options" type="element(alert:options)"  class="xquery">
		    Information specific to the application for the rule.
	    </apidoc:param>
	    <apidoc:param name="options" type="Object"  class="javascript">
		    Information specific to the application for the rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return  class="xquery">element(alert:rule)</apidoc:return>
    <apidoc:return  class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:make-rule(
    "nucleic acids email", 
    "Alert me to anything concerning nucleic acids",
    0, 
    cts:or-query((
        cts:word-query("dna"),
        cts:word-query("rna")
       )),
    "email",
    <alert:options>
        <alert:email-address>me@somedomain.com</alert:email-address>
    </alert:options>
  )
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.makeRule(
     "nucleic acids email", 
     "Alert me to anything concerning nucleic acids", 
     "0",
      cts.orQuery([
         cts.wordQuery("dna"),
         cts.wordQuery("rna")]),  
     "sms", 
    {"emailAddress":"me@somedomain.com"})
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-insert" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function inserts rule into the database associated with the specified alerting configuration. A user must have the alert-user privilege to call this function.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                       <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
            <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                 The representation of a rule.
	    </apidoc:param>
            <apidoc:param name="rule" type="Object" class="javascript">
                 The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $rule := alert:make-rule(
    "nucleic acids email", 
    "Alert me to anything concerning nucleic acids",
    xdmp:user("some_user"), 
    cts:or-query(( cts:word-query("dna"), cts:word-query("rna"))),
    "email",
    <alert:options>
      <alert:email-address>me@somedomain.com</alert:email-address>
    </alert:options>
  )
  return alert:rule-insert("http://acme.com/alert/message-board", $rule)
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  alert.ruleInsert(
       "http://acme.com/alert/message-board",
        alert.makeRule(
            "nucleic acids email", 
            "Alert me to anything concerning nucleic acids", 
            "0",
             cts.orQuery([
                  cts.wordQuery("dna"),
                  cts.wordQuery("rna")]),  
             "sms", 
             {"emailAddress":"me@somedomain.com"}))
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="rule-remove" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function removes the specified
		  rule from the collection. A user must have the 
		  <code>alert-user</code> privilege to call this function. 
		  An exception is thrown if the rule does not exist. A user 
		  must have the <code>alert-admin</code> privilege to delete 
		  other users' rules.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                       <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="id" type="xs:unsignedLong">The ID of the 
		    rule to be removed.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-remove("http://acme.com/alert/message-board", 987654321)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  var id = alert.ruleGetId(
        alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0]);
  alert.ruleRemove("http://acme.com/alert/message-board", id);
    ]]></pre></apidoc:example>
  </apidoc:function>

    <apidoc:function name="get-all-rules" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	    <apidoc:summary>This function returns all rules visible to the 
		    current user.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                       <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="query" type="cts:query">The 
		    <code class="xquery">cts:query</code>
                    <code class="javascript">cts.query</code> with which to restrict the 
		    rules that are returned.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>
    <apidoc:privilege>
	    <code>http://marklogic.com/xdmp/privileges/xdmp-alert-user</code>
    </apidoc:privilege>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-all-rules("my-collection", cts:word-query("my query"))
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
   var alert = require("/MarkLogic/alert.xqy");

   alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna")) 
  </pre></apidoc:example>
  </apidoc:function>

      <apidoc:function name="get-my-rules" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	    <apidoc:summary>This function returns all rules associated with the 
		    current user.
	    </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                       <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="query" type="cts:query">The 
		    <code class="xquery">cts:query</code> 
                    <code class="javascript">cts.query</code> with which to restrict the 
		    rules that are returned.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>
    <apidoc:privilege>
	    <code>http://marklogic.com/xdmp/privileges/xdmp-alert-user</code>
    </apidoc:privilege>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-my-rules("my-collection", cts:word-query("my query"))
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
   var alert = require("/MarkLogic/alert.xqy");

   alert.getMyRules("http://acme.com/alert/message-board", cts.wordQuery("dna")) 
    ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="rule-id-query" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function creates a query to find rules 
		  with any of the specified IDs.  Returns a query to 
		  be passed to <code class="xquery">alert:get-my-rules</code>
                   <code class="javascript">alert.getMyRules</code> or
		  <code class="xquery">alert:get-all-rules</code>
                  <code class="javascript">alert.getAllRules</code>.

          </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="ids" type="xs:unsignedLong*">A list of 
		    IDs for the rules to be retrieved.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>cts:query</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-my-rules(alert:rule-id-query((987654321, 987654322)))
  =>Returns the rules with IDs 987654321 and 987654322
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.getMyRules("http://acme.com/alert/message-board", 
                   alert.ruleIdQuery(["3593096101520676986"]))

  => Returns the rule with the ID 3593096101520676986
  ]]></pre></apidoc:example>


  </apidoc:function>
  <apidoc:function name="rule-name-query" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function creates a query to find rules 
		  with any of the specified names.  Returns a query to 
		  be passed to <code class="xquery">alert:get-my-rules</code>
                  <code class="javascript">alert.getMyRules</code> or
		  <code class="xquery">alert:get-all-rules</code>
                  <code class="javascript">alert.getAllRules</code>.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="names" type="xs:string*">A list of names 
		    for the rules to be retrieved.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>cts:query</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-all-rules("my-alert-config", 
	  alert:rule-name-query(("dna-alert", "rna-alert")))
  =>Returns the rules with names "dna-alert" or "rna-alert"
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.getAllRules(
        "http://acme.com/alert/message-board", 
        alert.ruleNameQuery(["dna-alert", "rna-alert"]))

  =>Returns the rules with names "dna-alert" or "rna-alert"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-user-id-query" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function creates a query to find rules 
		  with any of the specified user IDs.  Returns a query to 
		  be passed to <code class="xquery">alert:get-my-rules</code>
                  <code class="javascript">alert.getMyRules</code> or
		  <code class="xquery">alert:get-all-rules</code>
                  <code class="javascript">alert.getAllRules</code>.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="user-ids" type="xs:unsignedLong*">A list of user
		    IDs for the rules to be retrieved.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>cts:query</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-all-rules("my-alert-config", 
	  alert:rule-user-id-query((192837465, 192837466)))
  =>Returns the rules with user IDs 192837465 or 192837466
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.getAllRules(
        "http://acme.com/alert/message-board", 
        alert.ruleUserIdQuery(["7071164303237443533"]))

  =>Returns the rules with user ID ID7071164303237443533.
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-action-query" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function creates a query to find rules 
		  with any of the specified actions.  Returns a query 
		  be passed to <code class="xquery">alert:get-my-rules</code>
                  <code class="javascript">alert.getMyRules</code> or
		  <code class="xquery">alert:get-all-rules</code>
                  <code class="javascript">alert.getAllRules</code>.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="actions" type="xs:string*">A list of action 
		    names for the rules to be retrieved.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>cts:query</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-all-rules("my-alert-config", 
	  alert:rule-action-query(("email", "sms")))
  =>Returns the rules with actions "email" and "sms"
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.getAllRules("http://acme.com/alert/message-board", alert.ruleActionQuery(["sms"]))

  =>Returns the rule with action "sms" 
  ]]></pre></apidoc:example>



  </apidoc:function>
  <apidoc:function name="rule-get-id" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the ID of a 
		  given rule.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:unsignedLong</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $rule := alert:get-all-rules("http://acme.com/alert/message-board", cts:word-query("dna"))

  return alert:rule-get-id($rule)
  => 4363547345
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetId(
        alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0])
  => 4506868239885649353
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-user-id" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the user ID
		  of a given rule.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:unsignedLong</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $rule := alert:get-all-rules("http://acme.com/alert/message-board", cts:word-query("dna"))

  return alert:rule-get-user-id($rule)
  => 123456789
  ]]></pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetUserId(
       alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0])

  => 7071164303237443533
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-user-id" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the rule with the user ID 
		  updated. If the caller does not have the 
		  <code>alert-config</code> privilege, an exception will be 
		  thrown if the caller attempts to save a rule for a user other 
		  than himself.
	  </apidoc:summary>
    <apidoc:params>
            <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                  The representation of a rule.
	    </apidoc:param>
            <apidoc:param name="rule" type="Object" class="javascript">
                  The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="user-id" type="xs:unsignedLong">The user ID 
		    value to set for the given rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-set-user-id($rule, 123456789)

  => Returns the XML representation of the rule with the
     new user ID updated to 123456789
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetUserId(
       alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0],
       "7071164303237443533")

  => Returns the JSON representation of the rule with the
     new user ID updated to 7071164303237443533
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-action" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the action of a 
		  given rule.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $rule := alert:get-all-rules("http://acme.com/alert/message-board", cts:word-query("dna"))

  return alert:rule-get-action($rule)
  => sms
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetAction(
        alert.getAllRules("http://acme.com/alert/message-board",
                          cts.wordQuery("dna"))[0])
  => sms
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-action" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function returns the rule with the action updated.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="action" type="xs:string">The action value 
 		    to set for the given rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-set-action($rule, "sms")
  => Returns the XML representation of the rule with the new action
     updated to "sms"
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetAction(
    alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0],
    "sms")

  => Returns the JSON representation of the rule with the new action
     updated to "sms"
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function returns the name of a given rule.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-get-name($rule)
  => "nucleic acids email"
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetName(
        alert.getAllRules("http://acme.com/alert/message-board", 
                          cts.wordQuery("dna"))[0])
  => "nucleic acids email"
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function returns the rule with the name of the rule updated.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="name" type="xs:string">The name value to 
		    set for the given rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-set-name($rule, "nucleic acids email")
  => Returns the XML representation of the rule with the name updated
  to "nucleic acids email"
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetName( 
        alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0], 
         "nucleic acids email")

  => Returns the JSON representation of the rule with the name updated
     to "nucleic acids email"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function returns the description of a given rule.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $rule := alert:get-all-rules("http://acme.com/alert/message-board", cts:word-query("dna"))

  return alert:rule-get-description($rule)
  => "Email when new article about DNA"
  ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetDescription(
       alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0] )
  => "Alert me to anything concerning nucleic acids"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the rule with the
		  description of the rule updated.
	  </apidoc:summary>
    <apidoc:params>
            <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
               The representation of a rule.
	    </apidoc:param>
            <apidoc:param name="rule" type="Object" class="javascript">
               The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="description" type="xs:string">The 
		    description value to set for the given rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-set-description($rule, "Email when new article about DNA")
  => Returns the XML representation of the rule with the description 
     updated to "Email when new article about DNA"
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
   var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetDescription(
    alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0],
    "Email when new article about DNA")

  => Returns the JSON representation of the rule with the description 
     updated to "Email when new article about DNA"
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-query" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>Get the <code class="xquery">cts:query</code>
          <code class="javascript">cts.query</code> corresponding to 
		  the rule's query expression.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>cts:query</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetQuery(
       alert.getAllRules("http://acme.com/alert/message-board", 
                         cts.wordQuery("dna"))[0])

  => cts.orQuery([cts.wordQuery("dna", ["lang=en"], 1), cts.wordQuery("rna", ["lang=en"], 1)], [])
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-query" lib="alert" category="Alerting" 
  bucket="XQuery Library Modules">
    <apidoc:summary>Set the cts:query corresponding to the rule's query 
    expression.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="query" type="cts:query">The <code class="xquery">cts:query</code> 
            <code class="javascript">cts.query</code> for documents to match on.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)*</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
xquery version "1.0-ml";

import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

let $rule := alert:make-rule(
    "nucleic acids email", 
    "Alert me to anything concerning nucleic acids",
    0, 
    cts:or-query((
        cts:word-query("dna"),
        cts:word-query("rna")
       )),
    "email",
    <alert:options>
        <alert:email-address>me@somedomain.com</alert:email-address>
    </alert:options> )
return 
alert:rule-set-query($rule, 
   cts:word-query("new query for this rule"))
(: changes the cts:query used in the given rule :)
=>
<alert:rule id="15048720352788491261" 
  xmlns:alert="http://marklogic.com/xdmp/alert">
  <alert:name>nucleic acids email</alert:name>
  <alert:description>Alert me to anything concerning 
  nucleic acids</alert:description>
  <alert:user-id>893641342095093063</alert:user-id>
  <alert:query>
    <cts:word-query xmlns:cts="http://marklogic.com/cts">
      <cts:text xml:lang="en">new query for this rule</cts:text>
    </cts:word-query>
  </alert:query>
  <alert:action-name>email</alert:action-name>
  <alert:options>
    <alert:email-address>me@somedomain.com</alert:email-address>
  </alert:options>
</alert:rule>
]]>  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetQuery(
       alert.getAllRules("http://acme.com/alert/message-board", 
                         cts.wordQuery("dna"))[0],
       cts.wordQuery("new query for this rule"))

  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-get-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the options of a 
		  given rule.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:options)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-get-options($rule)
  => <alert:options>
       <alert:email-address>me@somedomain.com</alert:email-address>
     </alert:options>
     ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleGetOptions(
       alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0])

  => {"emailAddress": "me@somedomain.com"}
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="rule-set-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the rule with the 
		  options of the rule updated.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="rule" type="element(alert:rule)" class="xquery">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="rule" type="Object" class="javascript">
                The representation of a rule.
	    </apidoc:param>
	    <apidoc:param name="options" type="element(alert:options)" class="xquery">
                The options to set for the given rule.
	    </apidoc:param>
	    <apidoc:param name="options" type="Object" class="javascript">
                The options to set for the given rule.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:rule)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:rule-set-options(
  $rule,
  <alert:options>
    <alert:email-address>me@somedomain.com</alert:email-address>
  </alert:options>)

  => Returns the XML representation of the rule with the options 
  updated to   <alert:options>
                   <alert:email-address>me@somedomain.com</alert:email-address>
               </alert:options>
   ]]></pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.ruleSetOptions(
       alert.getAllRules("http://acme.com/alert/message-board", cts.wordQuery("dna"))[0],
       {"emailAddress": "me@somedomain.com"})

  => Returns the JSON representation of the rule with the options 
     updated to "options": {"emailAddress": "me@somedomain.com"}
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-get-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the name of a 
		  given action.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-get-name($action)
  => sms
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionGetName(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])

  => sms
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-set-name" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the action with the name of 
		  the action updated.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="name" type="xs:string">The name value to set 
		    for the given action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-set-name($action, "sms")
  => Returns the XML representation of the action with the name updated to "sms"
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetName(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0],
       "email")

  => sms action with name updated to "email"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-get-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the description of 
		  a given action.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-get-description($action)
  => "Sends basic SMS text message"
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionGetDescription(
        alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])

  => "Sends basic SMS text message"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-set-description" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the action with the 
		  description of the action updated.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="description" type="xs:string">The 
		    description value to set for the given action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-set-description($action, "Sends basic SMS text message")
  => Returns the XML representation of the action with the 
     description updated to "Sends basic SMS text message"
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetDescription(
     alert.getActions("http://acme.com/alert/message-board", ["sms"])[0],
     "New description")

  => Returns the JSON representation of the action with the 
     description updated to "New description"
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="action-get-module-db" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the module database 
		  of a given action.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:unsignedLong</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:get-actions("my-alert-config-uri", "my-action")
  return
  alert:action-get-module-db($action)
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
   var alert = require("/MarkLogic/alert.xqy");

   alert.actionGetModuleDb(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])
  </pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-set-module-db" lib="alert" category="Alerting" bucket="XQuery Library Modules">
    <apidoc:summary>This function sets the module database of a given action.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="module-db" type="xs:unsignedLong">The ID of 
		    the database containing the module of the action. 
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:get-actions("my-alert-config-uri", "my-action")
  return
  alert:action-set-module-db($action, xdmp:database("my-new-database"))
  </pre></apidoc:example>
 <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetModuleDb(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0],
       xdmp.database("Modules"))
  ]]></pre></apidoc:example>

  </apidoc:function>


    <apidoc:function name="action-get-module-root" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	    <apidoc:summary>This function returns the module root of a 
		    given action.</apidoc:summary>
    <apidoc:params>
 	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:get-actions("my-alert-config-uri", "my-action")
  return
  alert:action-get-module-root($action)
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionGetModuleRoot(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-set-module-root" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function sets the module root of a 
		  given action.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="module-root" type="xs:string">The new 
		    modules root for the action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:get-actions("my-alert-config-uri", "my-action")
  return
  alert:action-set-module-root($action, "/newroot/")
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetModuleRoot(
         alert.getActions("http://acme.com/alert/message-board",  ["sms"])[0],
         "/root")
  ]]></pre></apidoc:example>
  </apidoc:function>

  <apidoc:function name="action-get-module" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the module of a 
		  given action.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>xs:string</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:get-actions("my-alert-config-uri", "my-action")
  return
  alert:action-get-module($action)
  => /modules/sms.xqy (or whatever is the path to the module)
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionGetModule(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])

  => /modules/sms.xqy (or whatever is the path to the module)
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-set-module" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the action with the 
		  module of the action updated.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="module" type="xs:string">The module value 
		    to set for the given action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-set-module($action, "/modules/sms.xqy")
  => Returns the XML representation of the action with the module 
     updated to "/modules/sms.xqy"
  </pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetModule(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0],
       "/modules/sms.xqy")

   => Returns the JSON representation of the action with the module 
      updated to "/modules/sms.xqy"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-get-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the options of a
		  given action.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:options)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-get-options($action)
  => <alert:options>
	  <sms:provider name="Verizon" domain="vtext.com"/>
     </alert:options>
]]></pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionGetOptions(
       alert.getActions("http://acme.com/alert/message-board", ["sms"])[0])

  ]]></pre></apidoc:example>

  </apidoc:function>
  <apidoc:function name="action-set-options" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function returns the action with the 
		  options of the action updated.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="action" type="element(alert:action)" class="xquery">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="action" type="Object" class="javascript">
                 The representation of an action.
	    </apidoc:param>
	    <apidoc:param name="options" type="element(alert:options)" class="xquery">The 
		    options to set for the given action.
	    </apidoc:param>
	    <apidoc:param name="options" type="Object" class="javascript">The 
		    options to set for the given action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action :=
    alert:action-set-options(
        $action,
	<alert:options><sms:provider name="Verizon" domain="vtext.com"/>
	</alert:options>
    )
    => Returns the XML representation of the action with the options
       updated to <alert:options>
	             <myns:provider>Verizon</myns:provider>
	          </alert:options>
]]></pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.actionSetOptions(alert.getActions(
         "http://acme.com/alert/message-board", ["sms"])[0],
         {"provider":[{"name":"ATT", "domain":"att.com"}]}) 

  =>  Returns a JSON representation of the action with the new option.
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="make-action" lib="alert" category="Alerting" bucket="XQuery Library Modules">
   <apidoc:summary class="xquery"><p>
		  This function creates the specified action. 
		  When a rule associated with the action matches a document,
		  the action's module will be invoked with the following 
		  external variables set: </p><pre xml:space="preserve">
declare variable $alert:config-uri as xs:string external;
declare variable $alert:doc as node() external;
declare variable $alert:rule as element(alert:rule) external;
declare variable $alert:action as element(alert:action) external;</pre>
    <p>All actions must accept these external variables.</p>
  </apidoc:summary>
   <apidoc:summary class="javascript"><p>
		  This function creates the specified action. 
		  When a rule associated with the action matches a document,
		  the action's module will be invoked with the following 
		  external variables set: </p>
     <pre xml:space="preserve">
         var configUri;
         var doc;
         var rule;
         var action;
     </pre>
    <p>All actions must accept these external variables.</p>
  </apidoc:summary>
    <apidoc:params>
      <apidoc:param name="name" type="xs:string">The name give to 
	    the action.
      </apidoc:param>
      <apidoc:param name="description" type="xs:string">A text description 
	      of the action.
      </apidoc:param>
      <apidoc:param name="module-db" type="xs:unsignedLong">The database ID
	      where the XQuery modules reside.  Use 
	      <code class="xquery">xdmp:module-database()</code>
              <code class="javascript">xdmp.modulesDatabase</code> to specify the
	      configured database.
      </apidoc:param>
      <apidoc:param name="module-root" type="xs:string">The path to the module 
	      root.  Use <code class="xquery">xdmp:module-root()</code> to specify the
              <code class="javascript">xdmp.modulesRoot</code> configured root.
      </apidoc:param>
      <apidoc:param name="module" type="xs:string">The URI of the module 
	      to invoke.
      </apidoc:param>
      <apidoc:param name="options" type="element(alert:options)" class="xquery">Optional 
	      information specific to the action.
      </apidoc:param>
      <apidoc:param name="options" type="Object" class="javascript">Optional 
	      information specific to the action.
      </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve"><![CDATA[
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:make-action(
    "sms",
    "Sends basic SMS text message",
    xdmp:modules-database(),
    xdmp:modules-root(),
    "/modules/sms.xqy",
    <alert:options>
        <provider name="T-Mobile" domain="tmomail.net"/>
        <provider name="Virgin" domain="vmobl.com"/>
        <provider name="Cingular" domain="cingularme.com"/>
        <provider name="Sprint" domain="messaging.sprintpcs.com"/>
        <provider name="Verizon" domain="vtext.com"/>
        <provider name="Nextel" domain="messaging-nextel.com"/>
    </alert:options>
  )
  => Returns the XML representing an action with the specified information
]]></pre></apidoc:example>
  <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.makeAction(
    "sms",
    "Sends basic SMS text message",
    xdmp.modulesDatabase(),
    xdmp.modulesRoot(),
    "/modules/sms.xqy",
    {
      "provider":[{"name":"T-Mobile", "domain":"tmomail.net"},
                 {"name":"Virgin", "domain":"vmobl.com"},
                 {"name":"Cingular", "domain":"cingularme.com"},
                 {"name":"Sprint", "domain":"messaging.sprintpcs.com"},
                 {"name":"Verizon", "domain":"vtext.com"},
                 {"name":"Nextel", "domain":"messaging-nextel.com"}]
    }) 
  => Returns the JSON Object representing an action with the specified information
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="make-log-action" lib="alert" category="Alerting" bucket="XQuery Library Modules">
  <apidoc:summary class="xquery"><p>Create a standard logging action named "log". 
			  Rules that reference this action must provide an 
			  <code>&lt;alert:directory/&gt;</code> element that 
			  specifies where the log file should be created. The 
			  inserted document will have a random long integer 
			  ID and its filename will be ID.xml within the 
			  specified directory. </p>
		  Rules that reference this action may also provide options
		  with an <code>&lt;alert:permissions&gt;</code> element 
		  containing a series of <code>&lt;sec:permission&gt;</code>
		  elements and/or an <code>&lt;alert:collections&gt;</code> 
		  element containing <code>&lt;alert:collection&gt;</code>
		  elements that specify the permissions and collections for
		  the log document. This information is simply passed through
		  to <code class="xquery">xdmp:document-insert</code>.
		An example of the rule's options is as follows:
				<pre><![CDATA[
<alert:options>
  <alert:directory>/some/directory</alert:directory>
  <alert:permissions>
    <sec:permission>
      <sec:capability>read</sec:capability>
      <sec:role-id>129382323</sec:role-id>
    </sec:permission>
  </alert:permissions>
  <alert:collections>
    <alert:collection>http://acme.com/alert-log</alert:collection>
  </alert:collections>
</alert:options>

The log document has the following structure:

<alert:log>
  <alert:log-id>82388423</alert:log-id>
  <alert:config-uri>http://acme.com/alert/message-board</alert:config-uri>
  <alert:rule-id>12352</alert:rule-id>
  <alert:user-id>8271938239</alert:user-id>
  <alert:document-uri>/the/URI/of/the/matching/document</alert:document-uri>
  <alert:timestamp>2008-05-31T08:20:00-08:00</alert:timestamp> 
</alert:log>

The log document insertion will be performed as the user who created 
the rule, and the user must have permission to create documents in any 
collections they specify. The log-id is a random number chosen by 
the action.]]></pre>
</apidoc:summary>
  <apidoc:summary class="javascript"><p>Create a standard logging action named "log". 
		 Rules that reference this action must provide an 
		<code>directory</code> property that 
		specifies where the log file should be created. The 
		 inserted document will have a random long integer 
		ID and its filename will be ID.json within the 
		specified directory. 
                </p>
		 Rules that reference this action may also provide options
		 with an <code>permission</code> property 
		 containing a series of <code>permission</code>
		 properties and/or an <code>collections</code> 
		 object containing <code>collection</code>
		 properties that specify the permissions and collections for
		 the log document. This information is simply passed through
		 to <code class="javascript">xdmp.documentInsert</code>.
		An example of the rule's options is as follows:
 <pre><![CDATA[
    {"directory":"/some/directory",
     "permissions":[{"capability":"read","role-id":"129382323"}],   
     "collections":["http://acme.com/alert-log"]}
]]></pre>

The log document insertion will be performed as the user who created 
the rule, and the user must have permission to create documents in any 
collections they specify. The log-id is a random number chosen by 
the action.
</apidoc:summary>
    <apidoc:params>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)</apidoc:return>
    <apidoc:return class="javascript">Object</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-insert(alert:make-log-action())
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  alert.makeLogAction()
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="action-insert" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function inserts the specified action 
		  into the collection. The caller must have the 
		  <code>alert-admin</code> privilege to call this 
		  function.</apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                    <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
            <apidoc:param name="action" type="element(alert:action)" class="xquery">The 
		    representation of an action.
	    </apidoc:param>
            <apidoc:param name="action" type="Object" class="javascript">The 
		    representation of an action.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:privilege>
<code>http://marklogic.com/xdmp/privileges/xdmp-alert-admin</code>, 
<code>http://marklogic.com/xdmp/privileges/xdmp-invoke-modules-change</code> 
(if changing the modules database), 
<code>http://marklogic.com/xdmp/privileges/xdmp-invoke-modules-change-fs</code>
(if changing the modules db to someplace on the filesystem)
    </apidoc:privilege>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  let $action := alert:make-action("")
  return alert:action-insert("http://acme.com/alert/message-board", $action)
  => Inserts the XML for the action into the database
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate();
  alert.actionInsert(
         "http://acme.com/alert/message-board",
         alert.makeAction(
             "sms",
             "Sends basic SMS text message",
              xdmp.modulesDatabase(),
              xdmp.modulesRoot(),
              "/modules/sms.xqy",
              {"provider":[{"name":"T-Mobile", "domain":"tmomail.net"},
                           {"name":"Virgin", "domain":"vmobl.com"},
                           {"name":"Cingular", "domain":"cingularme.com"},
                           {"name":"Sprint", "domain":"messaging.sprintpcs.com"},
                           {"name":"Verizon", "domain":"vtext.com"},
                           {"name":"Nextel", "domain":"messaging-nextel.com"}]}
   ))
  ]]></pre></apidoc:example>


  </apidoc:function>
  <apidoc:function name="action-remove" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function removes the named action from the 
		  database or throws an exception if the action does 
		  not exist. The caller must have the <code>alert-admin</code>
		  privilege to call this function.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                    <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="name" type="xs:string">The name of the 
		    action to be removed.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return>empty-sequence()</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:action-remove("http://acme.com/action/message-board", "sms")
  => Removes the action with name "sms" from the 
     collection "http://acme.com/message-board"
  </pre></apidoc:example>
   <apidoc:example class="javascript"><pre xml:space="preserve"><![CDATA[
  var alert = require("/MarkLogic/alert.xqy");

  declareUpdate(); 
  alert.actionRemove("http://acme.com/alert/message-board", "sms")

  => Removes the action with name "sms" from the 
     collection "http://acme.com/alert/message-board"
  ]]></pre></apidoc:example>
  </apidoc:function>
  <apidoc:function name="get-actions" lib="alert" category="Alerting" bucket="XQuery Library Modules">
	  <apidoc:summary>This function retrieves all the named 
		  actions in the specified config URI.  Returns a 
		  list of actions.
	  </apidoc:summary>
    <apidoc:params>
	    <apidoc:param name="config-uri" type="xs:string">The URI passed 
		    to <code class="xquery">alert:make-config</code>
                    <code class="javascript">alert.makeConfig</code>.
	    </apidoc:param>
	    <apidoc:param name="names" type="xs:string*">The names of the 
		    actions to retrieve, possibly using wildcards.
	    </apidoc:param>
    </apidoc:params>
    <apidoc:return class="xquery">element(alert:action)*</apidoc:return>
    <apidoc:return class="javascript">Array</apidoc:return>
    <apidoc:example class="xquery"><pre xml:space="preserve">
  xquery version "1.0-ml";
  import module namespace alert = "http://marklogic.com/xdmp/alert" 
		  at "/MarkLogic/alert.xqy";

  alert:get-actions("http://acme.com/alert/message-board", ("sms", "email"))
  => Returns the XML representation of the actions for SMS and email
  alert:get-actions("http://acme.com/alert/message-board",("*"))
  => Returns all actions in the specified alerting configuration
  </pre></apidoc:example>
    <apidoc:example class="javascript"><pre xml:space="preserve">
  var alert = require("/MarkLogic/alert.xqy");

  alert.getActions("http://acme.com/alert/message-board", ["sms", "email"])
  => Returns the JSON representation of the actions for SMS and email
  alert.getActions("http://acme.com/alert/message-board",("*"))
  => Returns all actions in the specified alerting configuration
  </pre></apidoc:example>
  </apidoc:function>
</apidoc:module>
